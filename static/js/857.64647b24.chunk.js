"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[857],{4857:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r,o=n(5861),c=n(885),u=n(7757),a=n.n(u),i=n(2791),l=n(501),s=n(6871),h=n(4569),p=n.n(h),f=n(168),d=n(5751).ZP.li(r||(r=(0,f.Z)(["\n  margin-bottom: 4px;\n  :hover,\n  :focus {\n    color: var(--accent-color);\n  }\n\n  a {\n    text-decoration: none;\n    color: inherit;\n  }\n"]))),m=n(184);function v(){var e=(0,i.useState)(null),t=(0,c.Z)(e,2),n=t[0],r=t[1],u=(0,s.TH)(),h=(0,l.lr)(),f=(0,c.Z)(h,2),v=f[0],x=f[1],g=v.get("query");console.log("location MoviesPage",u),(0,i.useEffect)((function(){g?(console.log("=== Exist currentQuery"),b(g).then(r)):console.log("=== No currentQuery")}),[g]);var b=function(){var e=(0,o.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p().get("https://api.themoviedb.org/3/search/movie?query=".concat(t,"&api_key=a3ec7c1621ade0b1491e66cd43b88745"));case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{children:[(0,m.jsx)("h1",{children:"MoviesPage"}),(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.inputValue.value;console.log("onSubmit  = ",t),""!==t.trim()?(console.log("I had correct query:",t),x({query:t})):console.log("Pls, enter correct query!")},children:[(0,m.jsx)("input",{type:"text",name:"inputValue",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,m.jsx)("button",{type:"submit",children:"Search"})]}),n&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("ul",{children:n.map((function(e){return(0,m.jsx)(d,{children:(0,m.jsx)(l.rU,{to:"".concat(e.id),state:{from:u},children:e.title})},e.id)}))})})]})}}}]);
//# sourceMappingURL=857.64647b24.chunk.js.map